<m-moblet
  init="init"
  is-loading="isLoading"
  class="bg"
  inner-scroll="true"
  unavaliable="error">
  <m-content init="init">
  <style>
  .from-them::after, .from-me::after {
    background: {{bgColor}};
  }
  </style>
  <p class="background: {{bgColor}};">
  {{news}}
  </p>
    <div class="news">
      <div ng-repeat="(i, n) in news">
        <div class="from-them" id="anchor-{{i}}" ng-if="n.highlight.show">
          <span m-bind-html="n.highlight.content" class="n-highlight">
          </span>
          <a
            ng-if="n.highlight.link"
            class="news-link"
            href="{{n.highlight.link}}"
            target="_blank">
            ver mais
          </a>
          {{i}}
          {{news.length - 1}}
        </div>
        <!-- MORE -->
        <div ng-if="n.highlight.show &&
                    n.more &&
                    n.more.used === false &&
                    n.next.used === false"
          class="answers" ng-click="readMore(i)">
          {{n.more.content}}
        </div>
        <!-- NEXT-->
        <div
          ng-if="n.highlight.show &&
                  i < news.length - 1 &&
                  n.next &&
                  (!n.more || n.more.used === false) &&
                  n.next.used === false"
          class="answers" ng-click="showNext(i)">
            {{n.next.content}}
        </div>
        <div
          ng-if="n.highlight.show &&
                  n.next &&
                  (!n.more || n.more.used === false) &&
                  n.next.used === true"
          class="from-me">
            {{n.next.content}}
        </div>
        <!-- SHOW MORE WERE USED -->
        <div
          ng-if="n.highlight.show &&
                  n.more &&
                  n.more.used === true">
          <div class="from-me">
            {{n.more.content}}
          </div>
          <div ng-repeat="(j, more) in n.more.entries" class="n">
    	      <div class="from-them" id="anchor-{{i}}-{{j}}">
    	        <span m-bind-html="more.content" class="n-highlight">
              </span>
              <a
                ng-if="more.content.link"
                class="n-link"
                href="{{more.content.link}}"
                target="_blank">
                ver mais
              </a>
    	      </div>
          </div>
          <div
            ng-if="n.highlight.show &&
                    n.next &&
                    i < news.length - 1 &&
                    n.next.used === false"
            class="answers" ng-click="showNext(i)">
              {{n.next.content}}
          </div>
          <div
            ng-if="n.highlight.show &&
                    n.next &&
                    n.next.used === true"
            class="from-me">
              {{n.next.content}}
          </div>
        </div>
      </div>
    </div>
  </m-content>
</m-moblet>
